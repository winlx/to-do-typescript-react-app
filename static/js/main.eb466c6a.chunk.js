(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,a,t){e.exports=t(366)},146:function(e,a,t){},347:function(e,a,t){},366:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(9),c=t.n(l),s=(t(146),t(61)),o=t(139),i=t.n(o),u=(t(147),t(92)),d=t.n(u),m=(t(152),t(20)),p=t.n(m),f=(t(93),t(59)),E=t.n(f),b=(t(65),t(14)),O=t.n(b),k=(t(157),t(35)),h=t.n(k),v=(t(66),t(42)),g=t.n(v),j=(t(62),t(21)),y=t.n(j);t(64);function F(e){return Object.keys(e).some(function(a){return e[a]})}var _="ADD_TASK",T="EDIT_TASK",w="REMOVE_TASK";function C(e){return{type:T,payload:e}}var I=p.a.create({name:"addingTask"})(function(e){var a=e.dispatch,t=e.form,l=t.getFieldDecorator,c=t.getFieldsError,s=t.getFieldValue,o=t.validateFields,i=t.resetFields,u=Object(n.useCallback)(function(){o();var e=s("task");e&&(a({type:_,payload:e}),i())},[a,o,s,i]);return r.a.createElement(g.a,null,r.a.createElement(y.a,{span:18},r.a.createElement(p.a.Item,null,l("task",{rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438!"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(O.a,{type:"schedule"}),placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"})))),r.a.createElement(y.a,{offset:1,span:5},r.a.createElement(p.a.Item,null,r.a.createElement(h.a,{shape:"circle",icon:"plus",onClick:u,disabled:F(c())}))))}),D=t(135),V=t.n(D),A=(t(326),t(137)),S=t.n(A),x=(t(330),p.a.create({name:"task"})(function(e){var a=e.dispatch,t=e.task,l=e.form,c=t.id,o=t.desc,i=t.isFinished,u=l.getFieldDecorator,d=l.getFieldsError,m=l.getFieldValue,f=l.validateFields,b=Object(n.useCallback)(function(){a({type:w,payload:c})},[a,c]),O=Object(n.useCallback)(function(e){a(C({id:c,isFinished:e}))},[a,c]),k=Object(n.useState)(!1),v=Object(s.a)(k,2),j=v[0],_=v[1],T=Object(n.useRef)(null),I=Object(n.useCallback)(function(){return _(function(e){return!e})},[_]);Object(n.useEffect)(function(){j&&T.current&&T.current.focus()},[j,T]);var D=Object(n.useCallback)(function(e){f();var t=m("task");if(t){a(C({id:c,desc:t}));var n=e.relatedTarget&&e.relatedTarget.closest(".to-do-app__task-row"),r=e.currentTarget.closest(".to-do-app__task-row"),l=!!e.relatedTarget&&e.relatedTarget.classList.contains("to-do-app__edit-button");n!==r&&I(),l||n!==r||I()}},[c,a,f,m,I]);return r.a.createElement(g.a,{className:"to-do-app__task-row"},r.a.createElement(y.a,{span:18},r.a.createElement(p.a.Item,null,j?u("task",{initialValue:o,rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438!"}]})(r.a.createElement(E.a,{ref:T,onBlur:D,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"})):r.a.createElement(V.a.Text,{delete:i},o))),r.a.createElement(y.a,{offset:1,span:1},r.a.createElement(p.a.Item,null,u("isFinished",{initialValue:i})(r.a.createElement(S.a,{onChange:O,size:"small"})))),r.a.createElement(y.a,{offset:1,span:1},r.a.createElement(p.a.Item,null,r.a.createElement(h.a,{className:"to-do-app__edit-button",shape:"circle",icon:"edit",onClick:I,disabled:F(d())}))),r.a.createElement(y.a,{offset:1,span:1},r.a.createElement(p.a.Item,null,r.a.createElement(h.a,{shape:"circle",icon:"delete",onClick:b}))))})),K=function(e){var a=e.tasks;return r.a.createElement(r.a.Fragment,null,a.map(function(a){return r.a.createElement(x,{key:a.id,task:a,dispatch:e.dispatch})}))},N=t(60),R=t(45),q=t(138),B=t.n(q),J={};function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case _:var t=Object.values(e);t.sort(function(e,a){return e.sortOrder-a.sortOrder});var n=t.length?t[t.length-1].sortOrder+1:1,r=B()();return Object(R.a)({},e,Object(N.a)({},r,{id:r,desc:a.payload,sortOrder:n,isFinished:!1}));case T:var l=Object(R.a)({},e);return l[a.payload.id]=Object(R.a)({},l[a.payload.id],a.payload),l;case w:var c=Object(R.a)({},e);return delete c[a.payload],c;default:return e}}t(347);var z=function(){var e=Object(n.useReducer)(M,J),a=Object(s.a)(e,2),t=a[0],l=a[1],c=Object(n.useMemo)(function(){return Object.values(t).sort(function(e,a){return e.sortOrder-a.sortOrder})},[t]);return r.a.createElement(i.a,{className:"to-do-app"},r.a.createElement(d.a,null,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"),r.a.createElement(I,{dispatch:l}),r.a.createElement(d.a,null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u0434\u0430\u0447"),r.a.createElement(K,{tasks:c,dispatch:l}))};c.a.render(r.a.createElement(z,null),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.eb466c6a.chunk.js.map